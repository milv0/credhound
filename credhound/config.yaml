# Credential Scanner v2 설정 파일 (글로벌 - 모든 사용자 공통)
# 개인 환경 설정은 config.local.yaml에 추가하세요

# 스캔 설정
scan:
  max_workers: 4  # 병렬 처리 워커 수 (0 = CPU 코어 수)
  max_file_size: 10485760  # 10MB

# 제외할 디렉토리 (공통)
exclude_dirs:
  # ── 패키지 매니저 / 의존성 ──
  - node_modules      # npm/yarn 의존성 — 서드파티 코드, 스캔 불필요
  - site-packages     # pip 설치 패키지 — 서드파티 라이브러리 소스
  - vendor            # Go/PHP/Ruby 의존성 디렉토리
  - .npm              # npm 글로벌 캐시

  # ── 버전 관리 ──
  - .git              # Git 내부 객체 — 바이너리 데이터, false positive 다수

  # ── 빌드 산출물 / 캐시 ──
  - __pycache__       # Python 바이트코드 캐시
  - dist              # 빌드 배포 산출물
  - build             # 빌드 출력 디렉토리
  - out               # 컴파일 출력 디렉토리
  - target            # Java/Rust 빌드 출력
  - coverage          # 테스트 커버리지 리포트
  - .pytest_cache     # pytest 캐시
  - .cache            # 범용 캐시 디렉토리
  - Caches            # macOS 앱 캐시
  - Cache             # 범용 캐시 디렉토리

  # ── 가상환경 ──
  - venv              # Python 가상환경
  - env               # Python 가상환경 (대체 이름)
  - .venv             # Python 가상환경 (숨김)
  - .virtualenvs      # virtualenvwrapper 가상환경

  # ── 언어/런타임 매니저 ──
  - .rbenv            # Ruby 버전 매니저 — 설치된 Ruby 바이너리/gem
  - .pyenv            # Python 버전 매니저 — 설치된 Python 바이너리
  - .nvm              # Node.js 버전 매니저 — 설치된 Node 바이너리
  - .cargo            # Rust 패키지 매니저 캐시 + 바이너리
  - .rustup           # Rust 툴체인 설치 경로
  - .gradle           # Gradle 빌드 캐시 + 래퍼
  - .m2               # Maven 로컬 저장소

  # ── IaC / 컨테이너 ──
  - .terraform        # Terraform 프로바이더 플러그인 + 상태 캐시
  - .docker           # Docker CLI 설정 + 캐시
  - .kube             # Kubernetes 설정 (context, 인증 정보는 별도 탐지)
  - .minikube         # Minikube VM/컨테이너 데이터
  - .vagrant          # Vagrant VM 메타데이터

  # ── 프론트엔드 프레임워크 ──
  - .next             # Next.js 빌드 캐시
  - .nuxt             # Nuxt.js 빌드 캐시

  # ── IDE / 에디터 ──
  - .vscode           # VS Code 설정 — 사용자 환경 설정
  - .idea             # JetBrains IDE 설정

  # ── macOS 시스템 ──
  - Library           # macOS 시스템 라이브러리 — OS 내부 파일
  - Applications      # macOS 앱 번들 — 바이너리 + 리소스
  - System            # macOS 시스템 디렉토리
  - .Trash            # macOS 휴지통
  - __MACOSX          # macOS ZIP 아카이브 메타데이터

  # ── 임시 / 로그 ──
  - tmp               # 임시 파일
  - temp              # 임시 파일 (대체 이름)
  - logs              # 로그 디렉토리
  - log               # 로그 디렉토리 (대체 이름)

  # ── 쉘 / 터미널 ──
  - .oh-my-zsh        # Oh My Zsh 프레임워크 — 서드파티 플러그인/테마
  - .zsh              # Zsh 설정/플러그인

  # ── 로컬 설정 / 도구 ──
  - .local             # XDG 로컬 데이터 — 앱별 캐시/데이터
  - .config            # XDG 설정 디렉토리 — 앱별 설정 파일

# 제외할 파일 패턴 (공통)
exclude_patterns:
  - "README.*"
  - ".*\\.log$"
  - ".*_history$"
  - ".*package-lock\\.json$"
  - ".*yarn\\.lock$"
  - ".*\\.aws/cli/cache/.*"       # AWS CLI 임시 세션 토큰 캐시 — 자동 생성, 하드코딩 아님
  - ".*\\.aws/login/cache/.*"     # AWS SSO 로그인 캐시 — 자동 생성 임시 인증 정보
  - ".*\\.aws/sso/.*"             # AWS SSO 캐시 — 자동 생성 임시 토큰
  - ".*\\.toolbox/.*"             # Amazon 내부 도구 설치 경로 — 서드파티 SDK 소스
  - ".*pnpm-lock\\.yaml$"
  - ".*Cargo\\.lock$"
  - ".*Gemfile\\.lock$"
  - ".*credential_scan_results.*\\.txt$"
  - ".*scan_results.*\\.json$"
  - ".*\\.min\\.js$"
  - ".*\\.bundle\\.js$"
  - ".*\\.wasm$"
  - ".*/out/_next/.*"
  - ".*/dist/.*"
  - ".*/build/.*"
  - ".*/python/lib/python.*/.*\\.py$"
  - ".*\\.DS_Store$"              # macOS Finder 메타데이터 파일

# 스캔 가능한 파일 확장자
scannable_extensions:
  - .txt
  - .env
  - .json
  - .yaml
  - .yml
  - .xml
  - .conf
  - .config
  - .ini
  - .properties
  - .sh
  - .bash
  - .zsh
  - .py
  - .js
  - .ts
  - .jsx
  - .tsx
  - .java
  - .go
  - .rs
  - .rb
  - .php
  - .cs
  - .cpp
  - .c
  - .h
  - .md
  - .pem
  - .key
  - .crt
  - .cer
  - .sql
  - .toml
  - .kt
  - .swift
  - .scala
  - .clj
  - .ex
  - .exs

# 엔트로피 탐지 설정 (기본 OFF — 오탐이 많아 opt-in 권장)
# 활성화: credhound --entropy 또는 아래 enabled: true
entropy:
  enabled: false
  threshold: 4.5
  min_length: 20
  max_length: 120
  short_string_threshold: 5.5
  long_string_threshold: 5.2

# Baseline 파일 경로
baseline_file: .credscan-baseline.json
